# ===================================================================
# CẤU HÌNH HỆ THỐNG QUẢN LÝ KHOA CÔNG NGHỆ THÔNG TIN
# ===================================================================

# ===================================================================
# SERVER - Cấu hình máy chủ web
# ===================================================================
# Cổng mà ứng dụng sẽ chạy (http://localhost:8080)
server.port=8080

# Context path - đường dẫn gốc của API
# Tất cả API sẽ có dạng: http://localhost:8080/api/...
server.servlet.context-path=/api

# ===================================================================
# DATABASE - Kết nối PostgreSQL
# ===================================================================
# URL kết nối đến database
# Format: jdbc:postgresql://hostname:port/database_name
spring.datasource.url=jdbc:postgresql://localhost:5432/khoa_cntt_db

# Tên đăng nhập PostgreSQL (thay bằng username của bạn)
spring.datasource.username=postgres

# Mật khẩu PostgreSQL (thay bằng password của bạn)
spring.datasource.password=123

# Driver JDBC cho PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================================================
# JPA/HIBERNATE - ORM Configuration
# ===================================================================
# Dialect cho PostgreSQL - Hibernate sẽ tạo SQL phù hợp với PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# DDL mode:
# - validate: Chỉ kiểm tra schema, không thay đổi DB (KHUYÊN DÙNG)
# - update: Tự động cập nhật schema (CHỈ DÙNG KHI DEV)
# - create: Xóa và tạo lại DB mỗi lần chạy (NGUY HIỂM!)
# - none: Không làm gì
spring.jpa.hibernate.ddl-auto=validate

# Hiển thị SQL queries trong console (để debug)
spring.jpa.show-sql=true

# Format SQL cho dễ đọc
spring.jpa.properties.hibernate.format_sql=true

# Hiển thị comment trong SQL
spring.jpa.properties.hibernate.use_sql_comments=true

# ===================================================================
# CONNECTION POOL - HikariCP (quản lý kết nối database)
# ===================================================================
# Số kết nối tối đa trong pool
spring.datasource.hikari.maximum-pool-size=10

# Số kết nối tối thiểu luôn sẵn sàng
spring.datasource.hikari.minimum-idle=5

# Timeout khi đợi kết nối (30 giây)
spring.datasource.hikari.connection-timeout=30000

# Thời gian kết nối idle trước khi đóng (10 phút)
spring.datasource.hikari.idle-timeout=600000

# Thời gian sống tối đa của kết nối (30 phút)
spring.datasource.hikari.max-lifetime=1800000

# ===================================================================
# JWT - JSON Web Token Configuration
# ===================================================================
# Secret key để mã hóa JWT token
# ⚠️ LƯU Ý: Đổi key này trong production! Phải dài ít nhất 256 bits
jwt.secret=MySecretKeyForKhoaCNTTManagementSystem2025VeryLongAndSecureKey

# Thời gian hết hạn của access token (milliseconds)
# 86400000 ms = 24 giờ
jwt.expiration=86400000

# Thời gian hết hạn của refresh token (milliseconds)
# 604800000 ms = 7 ngày
jwt.refresh-expiration=604800000

# ===================================================================
# LOGGING - Cấu hình ghi log
# ===================================================================
# Log level cho toàn bộ ứng dụng
# Levels: TRACE < DEBUG < INFO < WARN < ERROR
logging.level.root=INFO

# Log chi tiết cho package của chúng ta
logging.level.com.khoacntt=DEBUG

# Log cho Spring Web (REST Controllers)
logging.level.org.springframework.web=DEBUG

# Log cho Spring Security
logging.level.org.springframework.security=DEBUG

# Log SQL queries của Hibernate
logging.level.org.hibernate.SQL=DEBUG

# Log giá trị parameters trong SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===================================================================
# FILE UPLOAD - Cấu hình upload file
# ===================================================================
# Kích thước file tối đa (10MB)
spring.servlet.multipart.max-file-size=10MB

# Kích thước request tối đa (10MB)
spring.servlet.multipart.max-request-size=10MB

# ===================================================================
# APPLICATION INFO - Thông tin ứng dụng
# ===================================================================
application.name=Khoa CNTT Management System
application.version=1.0.0

# ===================================================================
# GIẢI THÍCH CÁC WARNING BẠN GẶP:
# ===================================================================
# 1. jwt.secret, jwt.expiration, jwt.refresh-expiration
#    → Đây là các property TỰ ĐỊNH NGHĨA (custom properties)
#    → Spring sẽ inject vào code của chúng ta thông qua @Value
#    → Không phải property có sẵn của Spring Boot
#
# 2. application.name, application.version  
#    → Cũng là custom properties
#    → Dùng để hiển thị thông tin app
#
# 3. Tại sao có warning?
#    → VS Code/IntelliJ chưa biết các property này
#    → Khi tạo class @ConfigurationProperties, warning sẽ mất
#    → Hoặc có thể ignore, không ảnh hưởng chức năng